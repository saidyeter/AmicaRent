@{ ViewBag.Title = "Rezervasyon Ön Kayıt"; }

<div class="row">
    <div class="col-lg-12">
        <div class="box">
            <div class="box-header">

            </div>
            <div class="box-body">
                <table id="dt" class="table table-hover table-striped" style="width:100%">
                    <thead class="blue-grey lighten-4">
                        <tr>
                            <th>Başvuran Adı-Soyadı</th>
                            <th>Başvuran Email</th>
                            <th>Başvuran Telefon</th>
                            <th>Araç Plaka</th>
                            <th>Alış Lokasyonu</th>
                            <th>Alış Tarihi</th>
                            <th>Alış Saati</th>
                            <th>Teslim Lokasyonu</th>
                            <th>Teslim Tarihi</th>
                            <th>Teslim Saati</th>
                            <th>Durum</th>
                            <th width="10%"></th>
                        </tr>
                    </thead>

                </table>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        var menuItem = document.querySelector('#solmenu-operation');
        menuItem.classList.add('active');
        var subMenuItem = menuItem.querySelector('#solmenu-operation-liste-rezervasyon');
        subMenuItem.classList.add('active');

        var columns = [
            { "data": "Ad_Soyad", "name": "Ad_Soyad", "autoWidth": true },
            { "data": "Email", "name": "Email", "autoWidth": true },
            { "data": "Telefon", "name": "Telefon", "autoWidth": true },
            { "data": "Plaka", "name": "Plaka", "autoWidth": true },
            { "data": "AlisLokasyonu", "name": "AlisLokasyonu", "autoWidth": true },
            { "data": "AlisTarihi", "name": "AlisTarihi", "autoWidth": true },
            { "data": "AlisSaati", "name": "AlisSaati", "autoWidth": true },
            { "data": "TeslimLokasyonu", "name": "TeslimLokasyonu", "autoWidth": true },
            { "data": "TeslimTarihi", "name": "TeslimTarihi", "autoWidth": true },
            { "data": "TeslimSaati", "name": "TeslimSaati", "autoWidth": true },
            { "data": "Durum", "name": "Durum", "autoWidth": true },
            {
                "data": "RezervasyonOnKayit_ID",
                "render": function (data, type, row) {
                    var buttons = "<a class='fa fa-info task-button' title='Detay' href='/RezervasyonOnKayit/details/" + row.RezervasyonOnKayit_ID + "'></a>";
                    if (row.Durum == "BEKLİYOR") {

                        buttons += "<a class='fa fa-close task-button' title='Reddet' href='/RezervasyonOnKayit/decline/" + row.RezervasyonOnKayit_ID + "'></a>" +
                            "<a class='fa fa-check task-button' title='Onayla ve Cari Oluşturmaya Git' href='/RezervasyonOnKayit/accept/" + row.RezervasyonOnKayit_ID + "'></a>";
                    }
                    return buttons;
                }
            },
        ];

        var selector = "#dt";
        var url = "/RezervasyonOnKayit/LoadDt";
        makeDatatable(selector, url, columns, afterDatatabled);
    });
</script>

